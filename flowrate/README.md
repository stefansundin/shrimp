Based on https://github.com/mxk/go-flowrate.

Modified to allow seeking.
